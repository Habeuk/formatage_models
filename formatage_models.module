<?php
use Drupal\formatage_models\FormatageModelsThemes;
use Stephane888\Debug\debugLog;

/**
 *
 * @file
 * Primary module hooks for formatage models module.
 *
 * @DCG
 * This file is no longer required in Drupal 8.
 * @see https://www.drupal.org/node/2217931
 */

/**
 * Implement hook_preprocess_page
 */
function formatage_models_preprocess_page(&$variables) {
	// $Markup = new Markup();
	// $Markup->__toString()
	if (! empty($variables['page']['content'])) {
		foreach ($variables['page']['content'] as $block) {
			if (! empty($block["#theme"]) && $block["#theme"] == 'block')
				FormatageModelsThemes::ReInjectLayoutInAnotherRegion($block["#block"], $variables);
		}
	}
	// dump($variables['page']['content']);
	// MdbootstrapWbu::wbupreprocess_page($variables);
}

/**
 * Implements hook_theme().
 */
function formatage_models_theme() {
	return FormatageModelsThemes::getThemeHooks();
}

function formatage_models_preprocess_formatage_models_lmsg_call_toaction(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_expert_solution(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_image_after_before(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_hero_slider_popup(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_simple_block(array &$variables) {
	FormatageModelsThemes::ApplyAttributes($variables);
	FormatageModelsThemes::addLayoutEditBlock($variables);
}

function formatage_models_preprocess_formatage_models_galery_title(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

//
function formatage_models_preprocess_formatage_models_teaser_img_desc(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

//
function formatage_models_preprocess_formatage_models_blog_list(array &$variables) {
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_article_header(array &$variables) {
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_teaser(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
}

function formatage_models_preprocess_formatage_models_teaser_a_la_une(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
}

function formatage_models_preprocess_formatage_models_realisation_big(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
	FormatageModelsThemes::ApplyAttributes($variables);
}

function formatage_models_preprocess_formatage_models_realisation_small(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);
}

function formatage_models_preprocess_formatage_models_bg_header(array &$variables) {
	FormatageModelsThemes::addLayoutEditBlock($variables);

	// $variables["#theme"] = "region";
	// dump($variables);
}