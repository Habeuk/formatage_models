"use strict";(("undefined"!==typeof self?self:this)["webpackChunkEditEntity"]=("undefined"!==typeof self?self:this)["webpackChunkEditEntity"]||[]).push([[933],{7933:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var s=function(){var e=this,t=e._self._c;return t("div",[t("b-form-group",{attrs:{label:e.field.label}},["options_select"==e.field.type?t("b-form-select",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):t("b-form-radio-group",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},n=[],a=(i(3518),i(8175)),r=i(9875),l={name:"OptionsEntities",components:{},props:{field:{type:Object,required:!0},model:{type:[Object,Array],required:!0},namespaceStore:{type:String,required:!0}},data(){return{options:[],selected:null}},mounted(){this.loadTerms(),this.selected=this.getValue()},methods:{loadTerms(){let e=this.getFistVocab();if(e&&r.A.config){const t=new a.A(e,e,r.A.config);t.get().then((()=>{this.options=t.getOptions()}))}},getFistVocab(){if(this.field.definition_settings.handler_settings.target_bundles){const e=Object.keys(this.field.definition_settings.handler_settings.target_bundles);return this.field.definition_settings.handler_settings.target_bundles[e[0]]}return this.field.definition_settings.target_type?this.field.definition_settings.target_type:null},input(e){const t=[];t.push({target_id:e}),this.$emit("setValue",t)},getValue(){return this.model[this.field.name]&&this.model[this.field.name][0]?this.model[this.field.name][0].value?this.model[this.field.name][0].value:this.model[this.field.name][0].target_id:null}}},d=l,u=i(1656),o=(0,u.A)(d,s,n,!1,null,null,null),h=o.exports},8175:function(e,t,i){i(9534);var s=i(4802),n=i(7899),a=i(5606);class r{constructor(e,t=null,i=null){this.entity_type_id=e,t||(t=e),this.url=n.A.baseURl+"/"+this.entity_type_id+"/"+t,this.items=[],this.newConfig=i,i&&i.TestDomain&&(s.A.TestDomain=i.TestDomain),this.filterQuery=""}get(){return new Promise((e=>{this.filterQuery&&(this.filterQuery=this.url.includes("?")?"&"+this.filterQuery:"?"+this.filterQuery),s.A.dGet(this.url+this.filterQuery,n.A.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getSearch(e){const t=new a.A;return t.addFilter("name","CONTAINS",e),new Promise((e=>{s.A.dGet(this.url+"?"+t.query,n.A.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getValue(e){const t=new a.A;return t.addFilter("name","=",e),new Promise((e=>{s.A.dGet(this.url+"?"+t.query,n.A.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getValueByTid(e){const t=new a.A;return t.addFilter("tid","=",e),new Promise(((e,i)=>{s.A.dGet(this.url+"?"+t.query,n.A.headers).then((t=>{this.items=t.data,e(t.data)})).catch((e=>{i(e)}))}))}getValueById(e){const t=new a.A;let i="drupal_internal__id";switch(this.entity_type_id){case"user":i="uid";break;case"node":i="drupal_internal__nid";break;case"taxonomy_term":i="tid";break}return t.addFilter(i,"=",e),new Promise((e=>{s.A.dGet(this.url+"?"+t.query,n.A.headers).then((t=>{this.items=t.data,e(t.data)}))}))}filter(e,t,i){const s=new a.A;s.addFilter(e,t,i),s.query&&(this.filterQuery+=s.query)}addIncludesEntities(e=[]){}getOptions(){const e=[];for(const t in this.items.data){const i=this.items.data[t];"user"==this.entity_type_id?e.push({text:i.attributes.name?i.attributes.name:i.attributes.display_name,value:i.attributes.drupal_internal__uid}):i.attributes.name?e.push({text:i.attributes.name,value:i.attributes.drupal_internal__id}):i.attributes.label&&e.push({text:i.attributes.label,value:i.attributes.drupal_internal__id})}return e}remplaceConfig(){for(const e in this.newConfig)s.A[e]=this.newConfig[e]}}t.A=r}}]);
//# sourceMappingURL=EditEntity.umd.min.933.js.map